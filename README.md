# Библиотека потоковой обработки данных на Go

Лёгковесная библиотека для построения и запуска потоковых пайплайнов с помощью каналов и узлов (Node), а также демонстрационная утилита для рекурсивного обхода директорий и параллельного вычисления MD5-хешей файлов.

## Структура репозитория

- `pipeline/pipeline.go` — реализация ядра библиотеки:
    - Тип `Node` с произвольным числом входных и выходных каналов.
    - Построение направленного графа из этих узлов.
    - Запуск всех узлов в отдельных горутинах, управление их жизненным циклом через `context.Context`.
- `main.go` — демонстрационное приложение:
    - Узел-источник (`scanNode`): рекурсивный обход директории через `filepath.Walk`.
    - Узел-воркер (`hashNode`): параллельное чтение файлов и вычисление MD5-хешей, ограниченное семафором (`-workers`, по умолчанию 10).
    - Узел-приёмник (`sinkNode`): вывод результатов в формате `<MD5-хеш>  <путь>`.
- `go.mod` — описание модуля.
- `README.md` — эта документация.

## Возможности библиотеки

1. **Граф узлов**: каждый `Node` может иметь несколько входов и выходов.
2. **Каналы Go**: данные передаются через `chan interface{}`, типизируются при чтении.
3. **Параллельность**: все узлы запускаются в своих горутинах, операции внутри узлов могут дальше распараллеливаться.
4. **Гибкая настройка**: параметр `-workers` задаёт число одновременно обрабатываемых файлов.
5. **Корректная остановка**: при прерывании работы через контекст отмены (`context.CancelFunc`) все горутины аккуратно завершаются.

## Обработка ошибок

- При обходе директорий в `scanNode` ошибки доступа к файлам игнорируются, чтобы не прерывать обход всего дерева.
- В `hashNode` при ошибках открытия файла или чтения содержимого файл пропускается без паники; при желании можно заменить это на логирование в `os.Stderr`.
- Все каналы закрываются корректно при завершении работы узла, чтобы downstream-узлы получили конец потока.